<div style="border-radius: 4px; border: 1px solid rgba(0,0,0,0.15); box-shadow: 0 4px 6px rgba(0,0,0,0.1);">
    <div id="os-search-header" style="padding: 20px 20px 0 20px; display: flex; justify-content: space-between; align-items: center;">
        <h2 style="margin-top: 0; color: #00a1d6;">Search Subtitles</h2>
        <button id="os-settings-btn" style="background: none; border: none; cursor: pointer; padding: 5px;">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="#00a1d6" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <circle cx="12" cy="12" r="3"></circle>
                <path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"></path>
            </svg>
        </button>
    </div>
    <div id="os-search-form-container" style="flex: 1; padding: 0 20px; max-height: calc(80vh - 120px); overflow-y: auto;">
        <form id="opensubtitles-search-form">
            <div style="margin-bottom: 15px;">
                <label for="query" style="display: block; margin-bottom: 5px;">Search Term:</label>
                <input type="text" id="os-query" name="query" style="width: 100%; padding: 8px; box-sizing: border-box; border: 1px solid #ddd; border-radius: 4px;" placeholder="Movie title, filename, or IMDB ID" required>
            </div>

            <div style="display: flex; gap: 10px; margin-bottom: 15px;">
                <div style="flex: 1;">
                    <label for="season_number" style="display: block; margin-bottom: 5px;">Season:</label>
                    <input type="number" id="os-season" name="season_number" style="width: 100%; padding: 8px; box-sizing: border-box; border: 1px solid #ddd; border-radius: 4px;" placeholder="For TV shows">
                </div>
                <div style="flex: 1;">
                    <label for="episode_number" style="display: block; margin-bottom: 5px;">Episode:</label>
                    <input type="number" id="os-episode" name="episode_number" style="width: 100%; padding: 8px; box-sizing: border-box; border: 1px solid #ddd; border-radius: 4px;" placeholder="For TV shows">
                </div>
            </div>

            <details style="margin-bottom: 15px;">
                <summary style="cursor: pointer; color: #00a1d6; padding: 5px 0;">Advanced Options</summary>
                <div style="margin-top: 15px;">
                    <div>
                        <label for="languages" style="display: block; margin-bottom: 5px; font-size: 14px;">Languages:</label>
                        <div class="language-selector-container" style="position: relative;">
                            <input type="text" id="os-languages-search" placeholder="Search languages..." style="width: 100%; padding: 8px; box-sizing: border-box; border: 1px solid #ddd; border-radius: 4px; margin-bottom: 5px;">
                            <div id="os-languages-dropdown" style="display: none; position: absolute; width: 100%; max-height: 200px; background-color: white; border: 1px solid #ddd; border-radius: 4px; z-index: 1000; box-shadow: 0 2px 5px rgba(0,0,0,0.2);"></div>
                            <div id="os-selected-languages" style="display: flex; flex-wrap: wrap; gap: 5px; margin-top: 5px; margin-bottom: 10px"></div>
                            <input type="hidden" id="os-languages" name="languages" value="">
                        </div>
                    </div>

                    <div style="margin-bottom: 15px;">
                        <label for="year" style="display: block; margin-bottom: 5px; font-size: 14px;">Year:</label>
                        <input type="number" id="os-year" name="year" style="width: 100%; padding: 8px; box-sizing: border-box; border: 1px solid #ddd; border-radius: 4px;" placeholder="4-digit year (e.g. 2024)">
                    </div>

                    <div style="margin-bottom: 15px;">
                        <label for="type" style="display: block; margin-bottom: 5px; font-size: 14px;">Content Type:</label>
                        <select id="os-type" name="type" style="width: 100%; padding: 8px; box-sizing: border-box; border: 1px solid #ddd; border-radius: 4px;">
                            <option value="">All</option>
                            <option value="movie">Movie</option>
                            <option value="episode">TV Episode</option>
                        </select>
                    </div>

                    <div style="margin-bottom: 15px;">
                        <label for="imdb_id" style="display: block; margin-bottom: 5px; font-size: 14px;">IMDB ID:</label>
                        <input type="text" id="os-imdb-id" name="imdb_id" style="width: 100%; padding: 8px; box-sizing: border-box; border: 1px solid #ddd; border-radius: 4px;" placeholder="Format: tt1234567">
                    </div>

                    <div style="margin-bottom: 15px;">
                        <label for="tmdb_id" style="display: block; margin-bottom: 5px; font-size: 14px;">TMDB ID:</label>
                        <input type="text" id="os-tmdb-id" name="tmdb_id" style="width: 100%; padding: 8px; box-sizing: border-box; border: 1px solid #ddd; border-radius: 4px;" placeholder="Numbers only (e.g. 12345)">
                    </div>

                    <div style="margin-bottom: 15px;">
                        <label for="moviehash" style="display: block; margin-bottom: 5px; font-size: 14px;">Movie Hash:</label>
                        <input type="text" id="os-moviehash" name="moviehash" style="width: 100%; padding: 8px; box-sizing: border-box; border: 1px solid #ddd; border-radius: 4px;" placeholder="16 character hash">
                        <div style="display: flex; gap: 10px; margin-top: 5px;">
                            <label style="display: flex; align-items: center; font-size: 14px;">
                                <input type="radio" name="moviehash_match" value="include" checked> Include
                            </label>
                            <label style="display: flex; align-items: center; font-size: 14px;">
                                <input type="radio" name="moviehash_match" value="only"> Only
                            </label>
                        </div>
                    </div>

                    <div style="margin-bottom: 15px;">
                        <label style="display: block; margin-bottom: 5px; font-size: 14px;">Translation Type:</label>
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px;">
                            <div>
                                <label style=" font-size: 14px; margin-bottom: 5px; display: block;">AI Translated:</label>
                                <select id="os-ai-translated" name="ai_translated" style="width: 100%; padding: 8px; box-sizing: border-box; border: 1px solid #ddd; border-radius: 4px;">
                                    <option value="include">Include</option>
                                    <option value="exclude">Exclude</option>
                                </select>
                            </div>
                            <div>
                                <label style=" font-size: 14px; margin-bottom: 5px; display: block;">Machine Translated:</label>
                                <select id="os-machine-translated" name="machine_translated" style="width: 100%; padding: 8px; box-sizing: border-box; border: 1px solid #ddd; border-radius: 4px;">
                                    <option value="exclude">Exclude</option>
                                    <option value="include">Include</option>
                                </select>
                            </div>
                        </div>
                    </div>

                    <div style="margin-bottom: 15px;">
                        <label for="hearing_impaired" style="display: block; margin-bottom: 5px; font-size: 14px;">Hearing Impaired:</label>
                        <select id="os-hearing-impaired" name="hearing_impaired" style="width: 100%; padding: 8px; box-sizing: border-box; border: 1px solid #ddd; border-radius: 4px;">
                            <option value="include">Include</option>
                            <option value="exclude">Exclude</option>
                            <option value="only">Only</option>
                        </select>
                    </div>

                    <div style="margin-bottom: 15px;">
                        <label for="foreign_parts_only" style="display: block; margin-bottom: 5px; font-size: 14px;">Foreign Parts:</label>
                        <select id="os-foreign-parts" name="foreign_parts_only" style="width: 100%; padding: 8px; box-sizing: border-box; border: 1px solid #ddd; border-radius: 4px;">
                            <option value="include">Include</option>
                            <option value="exclude">Exclude</option>
                            <option value="only">Only</option>
                        </select>
                    </div>

                    <div style="margin-bottom: 15px;">
                        <label for="trusted_sources" style="display: block; margin-bottom: 5px; font-size: 14px;">Trusted Sources:</label>
                        <select id="os-trusted-sources" name="trusted_sources" style="width: 100%; padding: 8px; box-sizing: border-box; border: 1px solid #ddd; border-radius: 4px;">
                            <option value="include">Include</option>
                            <option value="only">Only</option>
                        </select>
                    </div>

                    <div style="margin-bottom: 15px;">
                        <label style="display: block; margin-bottom: 5px; font-size: 14px;">Sort Results:</label>
                        <div style="display: flex; gap: 10px;">
                            <select id="os-order-by" name="order_by" style="flex: 2; padding: 8px; box-sizing: border-box; border: 1px solid #ddd; border-radius: 4px;">
                                <option value="">Default</option>
                                <option value="language">Language</option>
                                <option value="download_count">Downloads</option>
                                <option value="upload_date">Upload Date</option>
                                <option value="rating">Rating</option>
                            </select>
                            <select id="os-order-direction" name="order_direction" style="flex: 1; padding: 8px; box-sizing: border-box; border: 1px solid #ddd; border-radius: 4px;">
                                <option value="desc">Desc</option>
                                <option value="asc">Asc</option>
                            </select>
                        </div>
                    </div>
                </div>
            </details>
        </form>
    </div>
    <div id="os-search-buttons" style="padding: 15px 20px; border-top: 1px solid #eee; background-color: white;">
        <div style="display: flex; justify-content: space-between;">
            <button type="button" id="os-search-submit-btn" style="padding: 8px 15px; background-color: #00a1d6; color: white; border: none; border-radius: 4px; cursor: pointer;">Search</button>
            <button type="button" id="os-search-cancel-btn" style="padding: 8px 15px; background-color: #f0f0f0; color: #333; border: none; border-radius: 4px; cursor: pointer;">Close</button>
        </div>
        <div id="os-search-status" style="margin: 15px 0 0; color: #3498db; display: none; text-align: center;"></div>
    </div>
    <div id="os-search-results-container" style="flex: 1; padding: 0 20px 10px 20px; display: none;"></div>
</div>